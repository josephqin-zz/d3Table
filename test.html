<html>
	<head>
		<!-- <script src="d3/d3.min.js"></script> -->
		<!-- <script src="js/simple-statistics.min.js"></script>
		<script src="js/stat_common.js"></script> -->
		<script src="src/cohortPanel.min.js"></script>
		
		
		<!-- <script src="src/tableView.js"></script>
		<script src="src/groupView.js"></script>
		<script src="src/inputPanel.js"></script>
		<script src="src/groupSelector.js"></script>
		<script src="src/volcanoPlot.js"></script>
		<script src="src/linePlot.js"></script>
		<script src="src/barPlot.js"></script>
		<script src="src/plotPanel.js"></script>
		<script src="src/cohortPanel.js"></script> -->
		<!-- <script src="src/tableModule.js"></script> -->
		<!-- * -->
		<style type="text/css">
		#tableCanvas {
		    height: 100%;
		    width: 100%;
		    border:2px solid #000;
		    overflow: scroll;
		   
		}

		svg {
		    display: block;
		    width: 500%;
		    height: 100%;
		}
		</style>
	</head>
	<body>
	   
		<div id='tableCanvas'>
		   <svg id="UI"></svg>
		</div>	
	</body>
	<script>
    var svg = d3.select('#UI');
    d3.json('test.txt',function(data){
    	var dataset = data;

    	var sampleColumns = dataset.samples.map((d)=>Object.keys(d))
    					.reduce((acc,d)=>[...acc,...d],[]).filter((d,i,self)=>self.indexOf(d)===i)
    	var cohortFn = cohortPanel
    						.sampleData(dataset.samples)
    						.mavenData(dataset.values)
    						.tableColumns(sampleColumns)
        svg.call(cohortFn);
    })


 //    var rows = [];
	// for(i=0;i<100;i++){rows.push(i)}
 //    var	tableData=rows.map((d)=>{ return {id:d,name:'sample'+d,value:Math.round(Math.random()*100)}})

	 //    d3.json('test.txt',function(data){

  //       tableData = data.values;
  //       // columns = Object.keys(data.values.filter((d)=>Object.keys(d).includes('area'))[0]);
  //       columns = tableData.map((d)=>Object.keys(d))
	 //    svg = d3.select('#UI')
	 //    // groupView = svg.append('g').attr('id','groupEidtor')

	 //    // 			   .call(dragBehavior)
	 //    // 			   .call(d3.groupEditor);

	    			   
	 //    tableView = svg.append('g').attr('id','tableView')
	 //    			   .call(d3.tableModule.tableData(tableData).columnList(columns).rowColor({23:'red',45:'yellow'}))
	 //    			   .attr('transform','translate(0,40)');
	 //    tableView
	 //    			   .call(function(svg){
	 //    			   	let bbox = svg.node().getBBox()
	 //    			   	svg.insert('rect',":first-child")
	 //    			   		.attr('width',bbox.width)
	 //    			   		.attr('height',bbox.height)
	 //    			   		.style('stroke','#000000')
	 //    			   		.style('fill','#ffffff')

	 //    			   })

	 //    })
	 //    // var dragBehavior = d3.drag()
		// 			// 		    .on("start", dragstarted)
		// 			// 		    .on("drag", dragged)
		// 			// 		    .on("end", dragended);
	 // //    var rows = [];
	 // //    for(i=0;i<100;i++){rows.push(i)}
		// // var	tableData
		// // 	=rows.map((d)=>{ return {id:d,name:'sample'+d,value:Math.round(Math.random()*100)}})

	    
	 //    			   // .call(dragBehavior);

	 //    			   function dragstarted(d) {
						  
		// 				}

		// 			   function dragged(d) {
		// 					this.x = this.x || 0;
		// 					this.y = this.y || 0;
						  
		// 					this.x += d3.event.dx;
		// 					this.y += d3.event.dy;
		// 									  d3.select(this)
		// 									    .attr("transform", 'translate('+this.x+' , '+this.y+")")
											    
		// 									}

		// 				function dragended(d) {
						  
		// 				}

	    
	    

 		
	</script>
</html>